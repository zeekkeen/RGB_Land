tree("Root")
	//Root behaviour for all unit: Be alive or die.
	parallel
		repeat mute tree("BeAlive")
		repeat mute tree("Dazed")
		repeat mute tree("Die")

tree("BeAlive")
	fallback
		while not EnemyInShootRange
			tree("Patrol")
		tree("Attack")

tree("Patrol")
	sequence
		Idle
		Wait(2.0)
		fallback
			while 
				GroundDetected
				repeat
					Move
			Flip

tree("Attack")
	while EnemyVisibleInRange
		Shield

tree("Die")
	sequence
		IsNoHealth
		Dead

tree("Dazed")
	//Die by exploding if no more HP.
	sequence
		IsHealthLessThanPrevious
		ChangeColor1
		WaitRandom(0.8, 1.0)
